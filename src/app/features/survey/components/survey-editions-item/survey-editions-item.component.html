<div class="flex justify-center items-start p-10 bg-gray-100 min-h-screen">
    <!-- Tree Diagram -->
    <div class="flex flex-col items-center space-y-6">
        <!-- Root Node -->
        <div class="flex flex-col items-center">
            <div class="bg-blue-600 text-white px-6 py-3 rounded-full shadow-lg font-bold">
                Edition: {{ editionId }}
            </div>
            <!-- Line connecting to subjects -->
            <div class="w-1 h-8 bg-gray-400"></div>
        </div>

        <!-- Subjects -->
        <div class="flex space-x-10">
            <div *ngFor="let subject of surveyEdition?.subjects" class="flex flex-col items-center">
                <!-- Subject Node -->
                <div class="flex flex-col items-center">
                    <div class="bg-green-500 text-white px-4 py-2 rounded-full shadow-md text-center font-semibold">
                        {{ subject.title }}
                    </div>
                    <!-- Line connecting to subsubjects -->
                    <div
                        *ngIf="subject.subSubjects.length > 0"
                        class="w-1 h-6 bg-gray-400 mt-2"
                    ></div>
                </div>

                <!-- Subsubjects -->
                <div *ngIf="subject.subSubjects.length > 0" class="flex space-x-6 mt-4">
                    <div *ngFor="let subSubject of subject.subSubjects" class="flex flex-col items-center">
                        <!-- Line connecting to child -->
                        <div class="w-1 h-6 bg-gray-400"></div>
                        <div
                            (click)="onSubSubjectClick(subSubject.id)"
                            class="bg-purple-500 text-white px-4 py-2 rounded-full shadow-md text-center font-semibold cursor-pointer hover:bg-purple-600 transition"
                        >
                            {{ subSubject.title }}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Loading State -->
    <p *ngIf="!surveyEdition" class="text-center text-gray-500 mt-6">Loading details...</p>
</div>
